DynamicHeader=function(){var e,t,n,i,o,d,r,s;function a(){return document.body.scrollTop||document.documentElement.scrollTop}function c(){return p()?u():n.offsetTop}function l(){return n.offsetHeight}function u(){return i?i.offsetTop:0}function f(){return p()?u()+l():c()+l()}function m(){return p()?f()-n.style.top>0:f()>0}function h(){return p()&&parseInt(n.style.top)<0}function y(){var e;!s&&f()<a()?(s=!0,n.style.transition="0.2s ease-in-out",n.style.position="fixed",n.style.left="0",n.style.right="0",E("is-dynamic")):s&&a()<=c()&&(s=!1,H("is-dynamic"),v()),s&&(function(){if(n&&!i){var e=n.parentElement;(i=document.createElement("div")).id="dynamic-header-trim",e.insertBefore(i,n)}}(),i&&(e?i.style.height=e:m()&&(i.style.height=l()-1+"px")))}function p(){return s}function v(){!function(){i&&i.remove();i=null}(),n&&d&&(n.style.transition=d.transition,n.style.position=d.position,n.style.left=d.left,n.style.top=d.top,n.style.right=d.right)}function g(){if(e.headerId&&(n=document.getElementById(e.headerId)),!n){var t=document.getElementsByTagName("header");if(t.length&&(n=t[0]),!n)return void console.error("Header with either id=["+e.headerId+"] or tag=<header> could not be found in DOM")}return(d={}).transition=n.style.transition,d.position=n.style.position,d.left=n.style.left,d.top=n.style.top,d.right=n.style.right,n}function w(e){n.style.top=e}function E(e){-1==n.className.split(" ").indexOf(e)&&(n.className.length&&(n.className+=" "),n.className+=e)}function H(e){n.className=n.className.replace(new RegExp(e,"g"),"")}function x(){if(h()){var t=a();t+(window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight)<Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)&&(w(0),e.slideIn&&(t>=l()?E(e.slideIn):H(e.slideIn)),M())}}function D(e){if(!h()||!m()){var n=h(),i=a();t=i;var o=l();i>o&&(w(e?-Math.abs(e)+"px":-o+"px"),n||M())}}function I(t){r=(new Date).getTime(),o&&clearTimeout(o),o=setTimeout(t||D,e.pauseDuration)}function b(){if(!e.fixed&&!((new Date).getTime()-r<=e.pauseDuration)&&p()){var n=a();if(Math.abs(t-n)<=e.delta)return;n>t?D():x(),t=n}}function T(){y(),h()&&D()}function L(){y(),p()&&b()}function k(){y(),e.hideOnClick&&!e.fixed&&p()&&I()}function N(){g(),n&&(window.addEventListener("resize",T),window.addEventListener("scroll",L),n.addEventListener("click",k))}function M(){e.callback&&e.callback(n)}function O(){window.removeEventListener("resize",T),window.removeEventListener("scroll",L),window.removeEventListener("load",N),n&&n.removeEventListener("click",k),r=0,v(),t=0,n=null}return{init:function(t){O(),function(t){(e=t||{}).fixed=e.fix||e.fixed,e.pauseDuration=e.pauseDuration||e.pauseMoveDuration,void 0===e.headerId&&(e.headerId="header"),void 0===e.delta&&(e.delta=25),void 0===e.hideOnClick&&(e.hideOnClick=!0),void 0===e.pauseDuration&&(e.pauseDuration=250),void 0===e.slideIn&&(e.slideIn="slide-in")}(t),"complete"==document.readyState?N():window.addEventListener("load",N)},destroy:function(){O()}}}();try{module&&(module.exports={init:function(e){this.dheader||(this.dheader=DynamicHeader),this.dheader.init(e)},destroy:function(){this.dheader&&this.dheader.destroy()}})}catch(e){console.log("Using DynamicHeader in non-node environment")}
